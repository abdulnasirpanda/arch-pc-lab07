# Лабораторная работа №7

дисциплина: Архитектура компьютера  
Студент: Abdulnasir Yusuf  
Группа: [Ваша группа]

---

## Содержание

1. Цель работы  
2. Задание  
3. Теоретическое введение  
4. Выполнение лабораторной работы  
5. Задание для самостоятельной работы  
6. Выводы  

---

## 1 Цель работы

Изучение команд условного и безусловного переходов. Приобретение навыков написания программ с использованием переходов. Знакомство с назначением и структурой файла листинга.

## 2 Задание

### 2.1 Основные задания
1. Создать программу с использованием инструкции безусловного перехода jmp
2. Создать программу с использованием инструкций условного перехода cmp и jg
3. Изучить структуру файла листинга
4. Создать файл листинга и проанализировать его содержимое

### 2.2 Задания для самостоятельной работы
1. Написать программу нахождения наименьшей из 3 целочисленных переменных
2. Написать программу вычисления значения функции f(x) для введенных x и a

## 3 Теоретическое введение

### 3.1 Команды переходов
- Безусловный переход - выполнение передачи управления в определенную точку программы без каких-либо условий (инструкция jmp)
- Условный переход - выполнение или не выполнение перехода в зависимости от проверки условия (инструкции je, jne, jg, jl и др.)

### 3.2 Регистр флагов
Флаги отражают результат выполнения арифметических инструкций:
- CF - флаг переноса
- ZF - флаг нуля  
- SF - флаг знака
- OF - флаг переполнения

### 3.3 Инструкция cmp
Инструкция cmp сравнивает два операнда и устанавливает флаги в зависимости от результата сравнения.

## 4 Выполнение лабораторной работы

### 4.1 Программа с безусловными переходами (lab7-1.asm)

Код программы:
```asm
%include 'in_out.asm'
SECTION .data
msg1: DB 'Сообщение № 1',0
msg2: DB 'Сообщение № 2',0  
msg3: DB 'Сообщение № 3',0

SECTION .text
GLOBAL _start
_start:
    jmp _label3

_label1:
    mov eax, msg1
    call sprintLF
    jmp _end

_label2:
    mov eax, msg2
    call sprintLF
    jmp _label1

_label3:
    mov eax, msg3
    call sprintLF
    jmp _label2

_end:
    call quit
Результат выполнения:
Сообщение № 3
Сообщение № 2
Сообщение № 1
Вывод: Программа демонстрирует работу безусловных переходов, изменяя порядок выполнения инструкций.

4.2 Программа с условными переходами (lab7-2.asm)
Код программы: (см. файл lab7-2.asm)
Тестирование:
 • При B=30: Наибольшее число: 50
 • При B=60: Наибольшее число: 60
Вывод: Программа корректно находит наибольшее число среди A, B, C используя условные переходы.

4.3 Файл листинга
Создан файл листинга командой:
nasm -f elf -l lab7-2.lst lab7-2.asm
Файл листинга содержит:
 • Номер строки
 • Адрес в сегменте
 • Машинный код
 • Исходный текст программы
Вывод: Файл листинга полезен для отладки, так как показывает соответствие между исходным кодом и машинными инструкциями.
4.4 Анализ ошибок
При удалении операнда из инструкции получена ошибка:
lab7-2-error.asm:15: error: invalid combination of opcode and operands

Вывод: Транслятор NASM обнаруживает синтаксические ошибки и не создает файл листинга при их наличии.
5 Задание для самостоятельной работы

5.1 Программа поиска наименьшего числа (smallest.asm)
Вариант 1: a=17, b=23, c=45
Результат:
Наименьшее число: 17
Вывод: Программа корректно находит наименьшее число используя сравнения и условные переходы.
5.2 Программа вычисления функции f(x) (function.asm)
Вариант 1:
f(x) = { 2a - x, если x < a
       { 8,      если x ≥ a
Тестирование:
 • x=1, a=2: f(x) = 3
 • x=2, a=1: f(x) = 8
Вывод: Программа правильно вычисляет значение кусочной функции в зависимости от условия.
6 Выводы
В ходе лабораторной работы были изучены команды безусловного и условного переходов в ассемблере NASM. Приобретены практические навыки написания программ с использованием переходов, изучена структура файла листинга. Все программы успешно компилируются и работают корректно.
Основные достижения:
 • Освоены команды jmp, cmp, jg и другие условные переходы
 • Изучена работа с флагами процессора
 • Созданы программы с ветвлениями
 • Изучен формат файла листинга
 • Выполнены задания для самостоятельной работы

Лабораторная работа выполнена и загружена на GitHub: https://github.com/abdulnasirpanda/arch-pc-lab07
